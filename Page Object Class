from selenium.webdriver.common.by import By

class LoginPage:
    def __init__(self, driver):
        self.driver = driver
        self.email_input = (By.NAME, "email")
        self.password_input = (By.NAME, "password")
        self.login_button = (By.XPATH, "//button[contains(.,'Login')]")
        self.eye_icon = (By.CSS_SELECTOR, ".password-toggle svg")
        self.error_message = (By.CLASS_NAME, "MuiAlert-message")

    def enter_email(self, email):
        self.driver.find_element(*self.email_input).send_keys(email)

    def enter_password(self, password):
        self.driver.find_element(*self.password_input).send_keys(password)

    def click_login(self):
        self.driver.find_element(*self.login_button).click()

    def click_eye_icon(self):
        self.driver.find_element(*self.eye_icon).click()

    def is_login_enabled(self):
        return self.driver.find_element(*self.login_button).is_enabled()

    def get_password_type(self):
        return self.driver.find_element(*self.password_input).get_attribute("type")

    def get_error_text(self):
        return self.driver.find_element(*self.error_message).text

    def are_elements_visible(self):
        return (
            self.driver.find_element(*self.email_input).is_displayed() and
            self.driver.find_element(*self.password_input).is_displayed() and
            self.driver.find_element(*self.login_button).is_displayed() and
            self.driver.find_element(*self.eye_icon).is_displayed()
        )
